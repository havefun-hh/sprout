# vim指令

## 1、启动vim：
vi x.txt  
## 2、三种模式：命令模式、编辑模式和末行模式  
启动vim进入的是命令模式：输入i/o/a进入编辑模式，Esc回到命令模式，此时输入英文:进入末行模式，在末行模式下输入q!可以再不保存当前工作的情况下强行退出vim；站在命令模式下输入v会进入可视模式，可以用光标选择一个区域再完成对应的操作。
## 3、保存和退出vim：  
在命令模式下输入:进入末行模式，输入wq可以实现保存退出；如果想放弃编辑的内容输入q!强行退出；在命令模式下也可以直接输入ZZ实现保存退出。如果只想保存文件不退出，那么可以再末行模式下输入w；可以再w后面输入空格再指定要保存的文件名。
## 4、光标操作：  
* 再命令模式下可以通过h、j、k、l来控制光标左、下、上、右的方向移动，可以再字母前输入数字来表示移动的距离，例如：10h表示0向左移动10个字符。
* 在命令模式下可以通过Ctrl+y和Ctrl+e来实现向上、向下滚动一行文本的操作，可以通过Ctrl+f和Ctrl+b来实现向前和向后翻页的操作。
* 在命令模式下可以通过输入英文字母G将光标移到文件的末尾,可以通过gg将光标移到文件的开始，也可以通过在G前输入数字来将光标移动到指定的行。
## 5、文本操作：  
* 删除：在命令模式下可以用dd来删除整行；可以在dd前加数字来指定删除的行数；可以用d$来实现删除从光标处删除到行尾的操作，也可以通过d0来实现从光标处删除到行首的操作；如果想删除一个单词，可以使用dw；如果要删除全文，可以在输入:%d（其中:用来从命令模式进入末行模式）。
* 复制和粘贴：在命令模式下可以用yy来复制整行；可以在yy前加数字来指定复制的行数；可以通过p将复制的内容粘贴到光标所在的地方。
* 撤销和恢复：在命令模式下输入u可以撤销之前的操作；通过Ctrl+r可以恢复被撤销的操作。
* 对内容进行排序：在命令模式下输入%!sort。
## 6、查找和替换：
* 查找操作需要输入/进入末行模式并提供正则表达式来匹配与之对应的内容，例如：/doc.*\.，输入n来向前搜索，也可以输入N来向后搜索。
* 替换操作需要输入:进入末行模式并制定搜索的范围、正则表达式以及替换后的内容和匹配选项，例如：:1,$/doc.*/hello/gice，其中：
>g - global：全局匹配  
>i - ignore case：忽略大小写匹配  
>c - confirm：替换时需要确认  
>e - error：忽略错误  
## 7、参数设定：在输入:进入末行模式后可以对vim进行设定
* 设置Tab键的空格数：set ts=4
* 设置显示/不显示行号：set nu / set nonu
* 设置启用/关闭高亮语法：syntax on / syntax off
* 设置显示标尺（光标所在的行和列）：set ruler
* 设置启用/关闭搜索结果高亮：set hls / set nohls  
(说明：如果希望上面的这些设定在每次启动vim时都能自动生效，需要将这些设定写到用户主目录先的.vimrc文件中）
## 8、高级技巧：
* 比较多个文件：vim -d foo.txt bar.txt
* 打开多个文件：vim foo.txt bar.txt hello.txt  
启动vim后只有一个窗口显示的是foo.txt，可以在末行模式中输入ls查看到打开的三个文件，也可以在末行模式中输入b <num>来显示另一个文件，例如可以用:b 2将bar.txt显示出来，可以用:b 3将hello.txt显示出来。
* 拆分和切换窗口:  
可以在末行模式中输入sp或vs来实现对窗口的水平或垂直拆分，这样我们就可以同时打开多个编辑窗口，通过按两次Ctrl+w就可以实现编辑窗口的切换，在一个窗口哦中执行退出操作只会关闭对应的窗口，其他的窗口继续保留。
* 映射快捷键：

